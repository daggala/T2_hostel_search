package hotelSearch;

import java.util.ArrayList;

import org.joda.time.DateTime;
import org.joda.time.Days;
import org.joda.time.format.DateTimeFormat;
import org.joda.time.format.DateTimeFormatter;

public class StayLength {
	
		private int arrivalYear;
		private int arrivalMonth;
		private int arrivalDate;
		private int departureYear;
		private int departureMonth;
		private int departureDate;
		private DateTime start;
		private DateTime end;
		
		private ArrayList<String> datesOfStay;
		
		public StayLength(int arrYear, int arrMonth, int arrDate, int depYear, int depMonth, int depDate){
		
			arrivalYear = arrYear;
			arrivalMonth = arrMonth;
			arrivalDate = arrDate;
			departureYear = depYear;
			departureMonth = depMonth;
			departureDate = depDate;
			start = new DateTime(this.arrivalYear, this.arrivalMonth, this.arrivalDate, 0, 0, 0, 0);
			end = new DateTime(this.departureYear, this.departureMonth, this.departureDate, 0, 0, 0, 0);
		}
		
		public int getArrYear(){
			return arrivalYear;
		}
		public int getArrMonth(){
			return arrivalMonth;
		}
		public int getArrDay(){
			return arrivalDate;
		}
		public int getDepYear(){
			return departureYear;
		}
		public int getDepMonth(){
			return departureMonth;
		}
		public int getDepDay(){
			return departureDate;
		}
		
		public int getDaysBetweenDates(){
			
			Days d = Days.daysBetween(start, end);
			int days = d.getDays();
			
			return days;
		}
		
		public ArrayList<String> getDatesOfStay(){
			
		
			//for(int i=0; i< getDaysBetweenDates(); i++){
				
				//DateTime n = start.plusDays(1);
				
			DateTimeFormatter fmt = DateTimeFormat.forPattern("yyyy-MM-dd HH:mm:ss");
		    String sqlTimeString = fmt.print(start);
		    System.out.println(sqlTimeString); // prints 2010-01-01 14:30:59
		    
		    
			/*
				String date = "";
				
				if(arrivalDate < 10){
					date = "0" + Integer.toString(arrivalDate);
				}
				else{
					date = Integer.toString(arrivalDate);
				}
				if(arrivalMonth < 10){
					date = date + "0" + Integer.toString(arrivalMonth);
				}
				else{
					date = date + Integer.toString(arrivalMonth);
				}
				
				date = date + Integer.toString(arrivalYear).substring(2,4);
				
				datesOfStay.add(date);
				
				System.out.println(datesOfStay.get(0));
			*/
				//start.plusDays(i);
			//}
			
			return datesOfStay;
		}
}

